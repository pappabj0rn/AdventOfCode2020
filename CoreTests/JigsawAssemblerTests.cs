using System.Collections.Generic;
using System.Linq;
using Core;
using Xunit;

namespace CoreTests
{
    public abstract class JigsawAssemblerTests
    {
        public class LoadTiles
        {
            [Theory]
            [InlineData(new[]
            {
                "Tile 123:",
                "#..",
                "..#",
                ".#.",
            }, 1)]
            [InlineData(new[]
            {
                "Tile 123:",
                "#..",
                "..#",
                ".#.",
                "",
                "Tile 124:",
                "#..",
                "..#",
                ".#.",
            }, 2)]
            public void Should_create_tiles_from_input(string[] data, int expectedTiles)
            {
                var ja = new JigsawAssembler();
                ja.LoadTiles(data);
                
                Assert.Equal(expectedTiles, ja.Tiles.Count);
            }

            [Fact]
            public void Should_load_data_into_tiles()
            {
                var data = new[]
                {
                    "Tile 123:",
                    "#..",
                    "..#",
                    ".#.",
                };
                var ja = new JigsawAssembler();
                ja.LoadTiles(data);
                
                Assert.Equal(data[1], ja.Tiles[0].Data[0]);
                Assert.Equal(data[2], ja.Tiles[0].Data[1]);
                Assert.Equal(data[3], ja.Tiles[0].Data[2]);
            }

            [Fact]
            public void Tile_count_test()
            {
                var ja = new JigsawAssembler();
                ja.LoadTiles(PuzzleData);
                
                Assert.Equal(144, ja.Tiles.Count);
            }
        }

        public class IndexTileEdges
        {
            [Fact]
            public void Example_1()
            {
                var ja = new JigsawAssembler();
                ja.LoadTiles(Example1Data);

                ja.IndexTileEdges();

                var singles = ja.TileEdgeIndex
                    .Where(x => x.Value.Count() == 1)
                    .Select(x => x.Value.First());
                    
                var cornerPieces = singles
                    .Select(x=>x.Tile.Id)
                    .GroupBy(x=>x)
                    .Where(g=>g.Count() == 4)
                    .Select(g=>g.Key);

                var checkSum = cornerPieces
                    .Aggregate(1L, (current, cornerPiece) 
                        => current * cornerPiece);

                Assert.Equal(20899048083289,checkSum);
            }
            
            [Fact]
            public void Puzzle_20A()
            {
                var ja = new JigsawAssembler();
                ja.LoadTiles(PuzzleData);

                ja.IndexTileEdges();

                var cornerPieces = ja.TileEdgeIndex
                    .Where(x => x.Value.Count() == 1)
                    .Select(x => x.Value.First().Tile.Id)
                    .GroupBy(x=>x)
                    .Where(g=>g.Count() == 4)
                    .Select(g=>g.Key);

                var checkSum = cornerPieces
                    .Aggregate(1L, (current, cornerPiece) 
                        => current * cornerPiece);

                Assert.Equal(2699020245973,checkSum);
            }
        }

        public class ArrangeTiles
        {
            [Fact]
            public void Example_1()
            {
                var ja = new JigsawAssembler();
                ja.LoadTiles(Example1Data);

                ja.IndexTileEdges();
                ja.ArrangeTiles();
                
                Assert.Equal(1951, ja.Layout[0,0].Id);
                Assert.Equal(2311, ja.Layout[0,1].Id);
                Assert.Equal(3079, ja.Layout[0,2].Id);
                
                Assert.Equal(2729, ja.Layout[1,0].Id);
                Assert.Equal(1427, ja.Layout[1,1].Id);
                Assert.Equal(2473, ja.Layout[1,2].Id);
                
                Assert.Equal(2971, ja.Layout[2,0].Id);
                Assert.Equal(1489, ja.Layout[2,1].Id);
                Assert.Equal(1171, ja.Layout[2,2].Id);
            }
        }

        public class GenerateImage
        {
            [Fact]
            public void Example_2()
            {
                var ja = new JigsawAssembler();
                ja.LoadTiles(Example1Data);

                ja.IndexTileEdges();
                ja.ArrangeTiles();

                var image = ja.GenerateImage();

                var expectedImage = new char[][]
                {
                    ".#.#..#.##...#.##..#####".ToCharArray(),
                    "###....#.#....#..#......".ToCharArray(),
                    "##.##.###.#.#..######...".ToCharArray(),
                    "###.#####...#.#####.#..#".ToCharArray(),
                    "##.#....#.##.####...#.##".ToCharArray(),
                    "...########.#....#####.#".ToCharArray(),
                    "....#..#...##..#.#.###..".ToCharArray(),
                    ".####...#..#.....#......".ToCharArray(),
                    "#..#.##..#..###.#.##....".ToCharArray(),
                    "#.####..#.####.#.#.###..".ToCharArray(),
                    "###.#.#...#.######.#..##".ToCharArray(),
                    "#.####....##..########.#".ToCharArray(),
                    "##..##.#...#...#.#.#.#..".ToCharArray(),
                    "...#..#..#.#.##..###.###".ToCharArray(),
                    ".#.#....#.##.#...###.##.".ToCharArray(),
                    "###.#...#..#.##.######..".ToCharArray(),
                    ".#.#.###.##.##.#..#.##..".ToCharArray(),
                    ".####.###.#...###.#..#.#".ToCharArray(),
                    "..#.#..#..#.#.#.####.###".ToCharArray(),
                    "#..####...#.#.#.###.###.".ToCharArray(),
                    "#####..#####...###....##".ToCharArray(),
                    "#.##..#..#...#..####...#".ToCharArray(),
                    ".#.###..##..##..####.##.".ToCharArray(),
                    "...###...##...#...#..###".ToCharArray()
                };

                for (var y = 0; y < 24; y++)
                {
                    for (var x = 0; x < 24; x++)
                    {
                        Assert.Equal(expectedImage[y][x], image[y,x]);
                    }
                }
            }
        }

        public class ReplaceWithCount
        {
            [Fact]
            public void Example_2()
            {
                var ja = new JigsawAssembler();
                ja.LoadTiles(Example1Data);

                ja.IndexTileEdges();
                ja.ArrangeTiles();

                var image = ja.GenerateImage();
                var searchPattern = new Tile();
                searchPattern.Data.Add("                  # ".ToCharArray());
                searchPattern.Data.Add("#    ##    ##    ###".ToCharArray());
                searchPattern.Data.Add(" #  #  #  #  #  #   ".ToCharArray());
                
                searchPattern.Rotate(1);
                searchPattern.FlipX();

                var count = TileReplacer.ReplaceWithCount(searchPattern, 'O', image);

                var waterRoughness = image.Cast<char>().Count(c => c == '#');
                Assert.Equal(2, count);
                Assert.Equal(273, waterRoughness);
            }

            [Theory(Skip = "done")]
            [InlineData(0, false, false)]
            [InlineData(0, false, true)]
            [InlineData(0, true, false)]
            [InlineData(0, true, true)]
            
            [InlineData(1, false, false)]
            [InlineData(1, true, false)]
            [InlineData(1, false, true)]
            [InlineData(1, true, true)]
            public void Puzzle_20B(int rotation, bool flipX, bool flipY)
            {
                var ja = new JigsawAssembler();
                ja.LoadTiles(PuzzleData);

                ja.IndexTileEdges();
                ja.ArrangeTiles();

                var image = ja.GenerateImage();
                var searchPattern = new Tile();
                searchPattern.Data.Add("                  # ".ToCharArray());
                searchPattern.Data.Add("#    ##    ##    ###".ToCharArray());
                searchPattern.Data.Add(" #  #  #  #  #  #   ".ToCharArray());
                
                if(rotation != 0)
                    searchPattern.Rotate(rotation);
                if(flipX)
                    searchPattern.FlipX();
                if(flipY)
                    searchPattern.FlipY();

                var count = TileReplacer.ReplaceWithCount(searchPattern, 'O', image);

                var waterRoughness = image.Cast<char>().Count(c => c == '#');
                Assert.True(count > 0, "no wyrms");
                Assert.Equal(2012, waterRoughness);
            }
        }

        private static readonly string[] Example1Data =
        {
            "Tile 2311:",
            "..##.#..#.",
            "##..#.....",
            "#...##..#.",
            "####.#...#",
            "##.##.###.",
            "##...#.###",
            ".#.#.#..##",
            "..#....#..",
            "###...#.#.",
            "..###..###",
            "",
            "Tile 1951:",
            "#.##...##.",
            "#.####...#",
            ".....#..##",
            "#...######",
            ".##.#....#",
            ".###.#####",
            "###.##.##.",
            ".###....#.",
            "..#.#..#.#",
            "#...##.#..",
            "",
            "Tile 1171:",
            "####...##.",
            "#..##.#..#",
            "##.#..#.#.",
            ".###.####.",
            "..###.####",
            ".##....##.",
            ".#...####.",
            "#.##.####.",
            "####..#...",
            ".....##...",
            "",
            "Tile 1427:",
            "###.##.#..",
            ".#..#.##..",
            ".#.##.#..#",
            "#.#.#.##.#",
            "....#...##",
            "...##..##.",
            "...#.#####",
            ".#.####.#.",
            "..#..###.#",
            "..##.#..#.",
            "",
            "Tile 1489:",
            "##.#.#....",
            "..##...#..",
            ".##..##...",
            "..#...#...",
            "#####...#.",
            "#..#.#.#.#",
            "...#.#.#..",
            "##.#...##.",
            "..##.##.##",
            "###.##.#..",
            "",
            "Tile 2473:",
            "#....####.",
            "#..#.##...",
            "#.##..#...",
            "######.#.#",
            ".#...#.#.#",
            ".#########",
            ".###.#..#.",
            "########.#",
            "##...##.#.",
            "..###.#.#.",
            "",
            "Tile 2971:",
            "..#.#....#",
            "#...###...",
            "#.#.###...",
            "##.##..#..",
            ".#####..##",
            ".#..####.#",
            "#..#.#..#.",
            "..####.###",
            "..#.#.###.",
            "...#.#.#.#",
            "",
            "Tile 2729:",
            "...#.#.#.#",
            "####.#....",
            "..#.#.....",
            "....#..#.#",
            ".##..##.#.",
            ".#.####...",
            "####.#.#..",
            "##.####...",
            "##..#.##..",
            "#.##...##.",
            "",
            "Tile 3079:",
            "#.#.#####.",
            ".#..######",
            "..#.......",
            "######....",
            "####.#..#.",
            ".#...#.##.",
            "#.#####.##",
            "..#.###...",
            "..#.......",
            "..#.###..."
        };

        private static readonly string[] PuzzleData =
        {
            "Tile 2729:",
            ".....#####",
            "##..##.#.#",
            "......#.##",
            "#....#.#.#",
            "#......##.",
            "#...#..#.#",
            "#.........",
            ".......##.",
            "#.#..#....",
            "#.#.###..#",
            "",
            "Tile 3673:",
            "##.....###",
            ".....##...",
            "#.......#.",
            "..#..##.##",
            "...##.#...",
            "...#......",
            "..#...#..#",
            "..........",
            "##..#.#..#",
            "####.#.#.#",
            "",
            "Tile 2797:",
            "#######..#",
            "###..#.#.#",
            "#...#.....",
            "....#...#.",
            "....#...#.",
            "#...##....",
            "....#....#",
            "#..#......",
            ".#........",
            "#.#.....##",
            "",
            "Tile 3779:",
            "....###..#",
            "#..#......",
            "...##.....",
            "#.#..#...#",
            "..##.#....",
            "##.##....#",
            "#.........",
            ".....#...#",
            "#.###...#.",
            ".#####.#.#",
            "",
            "Tile 3217:",
            "...###.###",
            "#....#..##",
            "#.......#.",
            "......#..#",
            "#...##..##",
            "##..#....#",
            "#...####.#",
            "..#..##...",
            "..#.##...#",
            "#..#.###..",
            "",
            "Tile 3137:",
            ".#..#.#.#.",
            "#.......#.",
            "###...#..#",
            "#.#...#...",
            ".....#.#.#",
            "..#..#....",
            "#...#.#.##",
            "..#......#",
            "..#...#...",
            "###.##.##.",
            "",
            "Tile 2857:",
            "...##..##.",
            ".........#",
            "#........#",
            ".#.....#..",
            "#..#..#...",
            "#...#.#.#.",
            "##....####",
            "#.....##.#",
            "...#..#...",
            "..####....",
            "",
            "Tile 1831:",
            "#.##..####",
            ".#.#.#...#",
            "#..##.....",
            "#..#....#.",
            "#.##......",
            "...#....#.",
            "......#..#",
            "..........",
            "####..#...",
            "####.###..",
            "",
            "Tile 2423:",
            "...#.##..#",
            "#...##...#",
            "##......##",
            "...#.#....",
            "#.....#...",
            "#.....#..#",
            ".#..####..",
            ".##...#.##",
            "..##.#..#.",
            "#..#..####",
            "",
            "Tile 3221:",
            "..#.##.###",
            "#.#.......",
            "#...#....#",
            "...#...#..",
            "#..#.#...#",
            "....###..#",
            ".........#",
            ".........#",
            "#...#.##.#",
            "##..##.###",
            "",
            "Tile 2707:",
            ".##.#.#...",
            ".#.##..#.#",
            "#...#.....",
            "#.#.......",
            "#...#.....",
            "..#......#",
            ".......###",
            "..#.#...#.",
            "#.#.......",
            "..#...#.##",
            "",
            "Tile 3041:",
            "#.####...#",
            "##.....#..",
            "..#.#..###",
            "#.###..###",
            ".#.#.....#",
            "#....#....",
            "..##......",
            ".###....#.",
            "###.##.#..",
            "#####.##.#",
            "",
            "Tile 1627:",
            ".###..#..#",
            ".#..#.##..",
            "##...#...#",
            "#....###.#",
            "..#......#",
            "#....#..#.",
            "#.##.....#",
            ".##..#...#",
            "..#...#..#",
            "...#.###.#",
            "",
            "Tile 1237:",
            "...##..###",
            "#.#......#",
            "#.##..#..#",
            "#.#.....#.",
            "#....#...#",
            "...#....#.",
            "#.#....#..",
            ".##.......",
            "..#..#..##",
            ".###.#.#.#",
            "",
            "Tile 1187:",
            "#...###...",
            "#.###.#...",
            "..##...#..",
            "##.....#..",
            ".....#...#",
            "#.....#...",
            "....#..#.#",
            ".........#",
            ".#...#....",
            ".####.#.##",
            "",
            "Tile 1361:",
            ".#.##..###",
            "......#..#",
            "....#.#..#",
            ".#.......#",
            "#.#.....##",
            ".#.#..##..",
            "##.##....#",
            "#.##..#.##",
            "#.#......#",
            ".##..##...",
            "",
            "Tile 2087:",
            "###.#.....",
            ".#...#....",
            ".#..#.....",
            "####.....#",
            "...#.....#",
            "...##.....",
            "##..###..#",
            "....##..#.",
            ".#.####...",
            "...#..####",
            "",
            "Tile 1129:",
            "###.#.#...",
            "#.##..###.",
            ".....#....",
            "#...#..#..",
            "#.#.###.#.",
            ".##..###..",
            "#...##..##",
            ".....#...#",
            "#........#",
            "...#..####",
            "",
            "Tile 1093:",
            ".....##.##",
            "#.......##",
            ".##.#.##.#",
            "#.#..####.",
            "#....#....",
            "###......#",
            "#.#.......",
            "#..#.....#",
            "#..#.#.#..",
            "#..#....#.",
            "",
            "Tile 3049:",
            "##...#..##",
            "#........#",
            "#......#..",
            ".....#.###",
            "#........#",
            "#..#.#....",
            "#........#",
            "....#.....",
            "..##.....#",
            "##.#..##.#",
            "",
            "Tile 2399:",
            "##...#.##.",
            "...#......",
            "#.#.##...#",
            "##.......#",
            "#.........",
            "#.........",
            ".....##..#",
            "#....#....",
            ".........#",
            ".....##.##",
            "",
            "Tile 3371:",
            "##....##..",
            ".....##...",
            "##.##.#.##",
            "......###.",
            "##..####.#",
            "..#..##..#",
            ".....#...#",
            "#..#..#..#",
            ".##.#...##",
            ".####..###",
            "",
            "Tile 3343:",
            "#......##.",
            ".##.#.#..#",
            "#...#.##.#",
            ".##..##...",
            ".#.#....##",
            "##.#..#...",
            "#....#.#.#",
            ".....##..#",
            "#.....##.#",
            ".##.#....#",
            "",
            "Tile 2393:",
            ".####.#.#.",
            ".#..##....",
            ".##..#.#..",
            "#....#....",
            "#...##.##.",
            ".#...#...#",
            "#..#......",
            "....#.##.#",
            "#....##..#",
            ".#..###.#.",
            "",
            "Tile 1621:",
            "##..###..#",
            "##.....#..",
            "#.#....###",
            ".##..#.#.#",
            "#.........",
            "#......#.#",
            "#.#.......",
            ".#........",
            "#.#......#",
            "....####.#",
            "",
            "Tile 3181:",
            "#...#.####",
            "...#.#...#",
            "..........",
            "....#..#..",
            "##........",
            "......####",
            "#.#..#..##",
            "..........",
            "..#....##.",
            "...###...#",
            "",
            "Tile 2441:",
            ".#..#..#..",
            "#....##...",
            ".#...#.#..",
            "#...##..#.",
            "...#..###.",
            ".....#.#.#",
            "#...#...#.",
            "#...##...#",
            "#......#.#",
            "#...##..##",
            "",
            "Tile 2389:",
            ".#...#.#..",
            ".........#",
            "..........",
            "###.......",
            "....#.#...",
            "....#.##..",
            "#.....##.#",
            "..#.......",
            "#.##.....#",
            "#...###.##",
            "",
            "Tile 1847:",
            "#.###.#..#",
            "#.#...#.#.",
            "#.......##",
            "#...#..#.#",
            "..###.#..#",
            "...##....#",
            "#....#...#",
            "##...#...#",
            ".###...#..",
            ".#.#.####.",
            "",
            "Tile 1871:",
            ".###.##...",
            "#.......#.",
            "#.......#.",
            "#.....#..#",
            "..##...#.#",
            "##.....###",
            ".....###..",
            "#....###.#",
            "##.##..#..",
            "###...####",
            "",
            "Tile 3877:",
            "#.....#.#.",
            "..##....##",
            "###......#",
            "#...###...",
            ".##...##..",
            ".#...#....",
            "..#....#.#",
            "#.........",
            "...#..#...",
            "#..###.#..",
            "",
            "Tile 3517:",
            "###..##.#.",
            "...###...#",
            "..#......#",
            ".#.#...#.#",
            "....#.##.#",
            "#...#..#..",
            "...##....#",
            "#.....###.",
            ".#..##...#",
            "........##",
            "",
            "Tile 2609:",
            "#...#..###",
            ".........#",
            "...#.#.#..",
            "#####..#.#",
            "#.#....#.#",
            ".......#..",
            "###..#...#",
            "..........",
            ".#...#....",
            "#.#.....#.",
            "",
            "Tile 3001:",
            "..#...#...",
            "#........#",
            "#..#.....#",
            ".#.#.#...#",
            "#..##.....",
            "#.....##..",
            "#......#.#",
            "..##...#..",
            ".#..#.##.#",
            "#.##.#####",
            "",
            "Tile 3067:",
            "#.#.#.###.",
            "##....#...",
            ".#..#.....",
            "....#.....",
            ".###..#.##",
            ".....#....",
            ".#...##...",
            ".#.#.##..#",
            ".....#...#",
            "#.#.#....#",
            "",
            "Tile 1583:",
            "####....#.",
            "##.#....##",
            "##..#....#",
            "#...#.##..",
            "....##....",
            "###.##...#",
            "#..#..##.#",
            ".###.....#",
            ".#.##....#",
            "..#.####.#",
            "",
            "Tile 1741:",
            "#.#.#####.",
            "....#.....",
            "#.#......#",
            "..##...###",
            "......#...",
            "#........#",
            "..##...###",
            "#.#...####",
            "####.#....",
            ".#..#.#.#.",
            "",
            "Tile 1933:",
            "#####..###",
            "#...#..#..",
            ".##...#..#",
            ".......###",
            "##........",
            "..#...##..",
            ".....#..##",
            "#....#....",
            "#.....#.#.",
            "....##..#.",
            "",
            "Tile 3697:",
            "#..#.#####",
            "...#..##..",
            "#.....#...",
            ".#..#.##..",
            "......#...",
            "#......#..",
            "##....#..#",
            ".##.....#.",
            "#.#..#....",
            "#..##...##",
            "",
            "Tile 1429:",
            "##.....#..",
            "###.#...##",
            "#.....#..#",
            "#...###..#",
            "....#.....",
            "##.#...#..",
            "#....##...",
            ".##.#..#..",
            "..#.#.#..#",
            "#.#.###...",
            "",
            "Tile 1721:",
            "##..#.#..#",
            "...#.#....",
            "##...#.#.#",
            "##..#....#",
            ".##.#....#",
            "#..#.#....",
            "#.##.#....",
            "##.....#..",
            "..#..###..",
            "..###.#..#",
            "",
            "Tile 1867:",
            ".##.####.#",
            "#.##....#.",
            "#....#....",
            "##..#..#..",
            "##.#..#..#",
            ".......#..",
            "##........",
            "..#...##.#",
            "....#..#.#",
            "..###.#.##",
            "",
            "Tile 2143:",
            "##..##.#..",
            "#.........",
            "..#.#..###",
            ".#.#..#...",
            ".#######..",
            "....#....#",
            "##.##.#..#",
            "......##..",
            "..#.#.##.#",
            "..#...#..#",
            "",
            "Tile 1657:",
            "......#..#",
            "#.##..###.",
            ".#.....#.#",
            ".#......##",
            "#.####...#",
            "...#.#....",
            "#.#....###",
            "#.....##.#",
            "....#....#",
            "#..#..#...",
            "",
            "Tile 2719:",
            "#####..#..",
            "#.....###.",
            ".##....###",
            "..#.##....",
            "#..##.....",
            ".......###",
            "#.....#...",
            "..#...##..",
            ".#..##.#.#",
            "..####....",
            "",
            "Tile 2803:",
            "###..###..",
            ".#..#...##",
            "#.....#...",
            "#.#.###...",
            "##..#....#",
            "#...#..#.#",
            "...##...##",
            "......####",
            ".......##.",
            ".###.#..##",
            "",
            "Tile 3929:",
            ".#.#####.#",
            "##...#....",
            "...#.#.#.#",
            ".#......#.",
            ".......#..",
            "##....##.#",
            "...#...#..",
            ".......###",
            ".........#",
            "..##..##.#",
            "",
            "Tile 1321:",
            ".#.#...#.#",
            ".......#..",
            "...#.####.",
            "#.........",
            "..#.#.#.##",
            "##....#...",
            "..........",
            "#.##...#..",
            "#....#...#",
            "#######.##",
            "",
            "Tile 1153:",
            ".#...#.###",
            "#........#",
            "#...#...#.",
            "#.....#..#",
            "#........#",
            "#.#.....##",
            ".....##...",
            "#..#...#..",
            "#.....#..#",
            "##.#..##.#",
            "",
            "Tile 3803:",
            "#.####...#",
            "#.##..#...",
            "##..#.....",
            ".##.....#.",
            "..#...#...",
            "#.##.#.#..",
            "##.....#.#",
            "##.#..#..#",
            "##..#..#..",
            "....##..##",
            "",
            "Tile 2791:",
            ".#....####",
            "#.....#...",
            "#.#.##...#",
            "..#.#.#..#",
            "##..#....#",
            "#....#..##",
            "...#.##..#",
            "......#..#",
            "#....#.#..",
            "#.###.#.#.",
            "",
            "Tile 3529:",
            ".#...#...#",
            ".....#..#.",
            "#........#",
            ".........#",
            ".##.##.#..",
            "##.......#",
            "#...#...##",
            ".......#..",
            "...#.##..#",
            "#.#####...",
            "",
            "Tile 3257:",
            "####.#.###",
            ".##...##..",
            "..#....#..",
            "..###..#.#",
            "#.#..#...#",
            ".......##.",
            "##.##.####",
            ".....##..#",
            "#....##...",
            "###..###.#",
            "",
            "Tile 1531:",
            "#.#...#...",
            ".........#",
            "##...#...#",
            "##......##",
            "...#.....#",
            "#.#.###..#",
            "#....#...#",
            ".#....#.#.",
            "#...#....#",
            "#########.",
            "",
            "Tile 3413:",
            "#...#.....",
            "...###..##",
            "##..##....",
            ".#..##....",
            "#..#.#.#..",
            "...#.....#",
            "....#..#.#",
            "...#....##",
            "...#.#...#",
            "#.###..#.#",
            "",
            "Tile 1117:",
            "#.#.##...#",
            ".........#",
            ".........#",
            "#....#..##",
            "#.#.##..#.",
            "#......#..",
            "#.#.#.#...",
            "#..#.....#",
            "......#.#.",
            "..##.#..#.",
            "",
            "Tile 1499:",
            ".#####..##",
            "...#...###",
            ".........#",
            "#..#.....#",
            "##......##",
            "#.......#.",
            "#......##.",
            "#####.....",
            ".#.....#..",
            ".###..####",
            "",
            "Tile 1787:",
            ".######..#",
            "#....#.#.#",
            "........#.",
            "#.....#...",
            "..........",
            "..#..#.###",
            "#.#..#...#",
            ".#.#.#####",
            ".....#.#.#",
            "##.#.##.##",
            "",
            "Tile 1949:",
            "##..####.#",
            "##.#......",
            ".........#",
            "....#..#.#",
            ".#...##..#",
            "....#..#..",
            "#.....#...",
            "##....#..#",
            ".....#..#.",
            ".#.#.#.#.#",
            "",
            "Tile 2161:",
            "####.#..#.",
            "#.......#.",
            ".##....#.#",
            ".###..#..#",
            "#.#..#....",
            "#..#..#...",
            "#...#.#.##",
            "#...#.##.#",
            "###....#..",
            "#...#.##.#",
            "",
            "Tile 2953:",
            "#.#...#.##",
            "#.#.#...##",
            "#.......##",
            ".........#",
            "#..#.....#",
            "..#.##.#..",
            "..#.###..#",
            "##.....#..",
            "......#...",
            "###.#.#.#.",
            "",
            "Tile 1039:",
            "##..###..#",
            "#.....#...",
            "#....#.#.#",
            "#...#...##",
            "##.......#",
            "#.....#..#",
            "...#.....#",
            ".#.###...#",
            ".........#",
            "#.#..#####",
            "",
            "Tile 2027:",
            "##.####..#",
            "..#.....#.",
            "#.#.##...#",
            ".#.......#",
            ".....#.###",
            "#........#",
            ".#.#.....#",
            "#.#...#.#.",
            "#.###...#.",
            "..##.##...",
            "",
            "Tile 1889:",
            "..####.##.",
            "#....#.#.#",
            "##.#..##.#",
            "#..#...###",
            "##...#..##",
            "#..##...#.",
            "#..#.###.#",
            "#.###.#...",
            "##...##...",
            "##.##..###",
            "",
            "Tile 3557:",
            "##.##.#...",
            ".....#.#.#",
            "#.#..#....",
            "##..###..#",
            "....##...#",
            "....#....#",
            ".#..#...#.",
            ".#.#.##..#",
            "###..#...#",
            "#.#.#..#..",
            "",
            "Tile 2549:",
            "....#..#..",
            "#..#..#.##",
            ".....#...#",
            "#..##.#.#.",
            ".#.##....#",
            ".#..#....#",
            ".#.#...#..",
            "##.....#..",
            "..........",
            "#....#...#",
            "",
            "Tile 1543:",
            ".##.###.##",
            "....#.#..#",
            "#.........",
            "...#.#...#",
            "#.......#.",
            ".....##...",
            "....#.....",
            "..###.#..#",
            "###..#....",
            "###.#.###.",
            "",
            "Tile 2417:",
            ".#....#.#.",
            "#.#..###.#",
            "....##....",
            "##.....#.#",
            "..........",
            "#....#..##",
            ".....#...#",
            "#.#......#",
            "#........#",
            "###..##..#",
            "",
            "Tile 3541:",
            ".##..###..",
            "##...##.##",
            "##..#....#",
            ".........#",
            "...#.#....",
            "...#.....#",
            "#..#...#..",
            "..........",
            ".#..##.#.#",
            "..##.#..##",
            "",
            "Tile 1931:",
            ".##...##.#",
            "...#.....#",
            "#...###...",
            "#.......#.",
            "#.......##",
            ".#.#.#....",
            "##..#....#",
            "##...#..##",
            "..........",
            "....#.#.#.",
            "",
            "Tile 2833:",
            ".#...#....",
            "#..####...",
            ".#...##.##",
            ".#.......#",
            "#.#...#..#",
            "..#.....##",
            "#......#..",
            "##....#..#",
            "......#..#",
            "##..##...#",
            "",
            "Tile 3301:",
            "###.#.####",
            "..###.##..",
            "..........",
            ".#....##..",
            "#.#..##...",
            "..#....#.#",
            ".#.#..#...",
            "#.#..#...#",
            "....#.##.#",
            "......##.#",
            "",
            "Tile 3671:",
            "##.#..#...",
            ".##....###",
            "##.....#..",
            "###.#.#.#.",
            "....#...##",
            "#.....#..#",
            "#.#......#",
            ".......###",
            "#..#.....#",
            "...#.###.#",
            "",
            "Tile 1609:",
            "..##..#.##",
            "###..##...",
            ".#..#..#..",
            "#....#.#..",
            "#..#.##.#.",
            "#.......#.",
            ".....#...#",
            "#.....#..#",
            "......##..",
            "###..##...",
            "",
            "Tile 2957:",
            "###..#####",
            "###.......",
            "#..#.....#",
            "#.#......#",
            "#.....#..#",
            "#.#.......",
            "###.#..#.#",
            ".#.#.##.#.",
            "###.#.#...",
            "...##.####",
            "",
            "Tile 2467:",
            "##.#.#.#..",
            "........#.",
            "....#...#.",
            "#.......#.",
            "..#...#..#",
            "...#.#...#",
            "#...###.##",
            "#.##.#.#..",
            ".#...##...",
            "..#.####..",
            "",
            "Tile 1907:",
            "###..###.#",
            "#...#....#",
            "...#..#..#",
            ".......#.#",
            "........##",
            "##...#..##",
            "#..#.##...",
            "#....#.#.#",
            "#......###",
            "###.....#.",
            "",
            "Tile 2251:",
            "##...#..##",
            "#..#.##..#",
            "..#.#..###",
            "##........",
            ".......#..",
            ".#..#.#...",
            "#..#.#..#.",
            "#..#......",
            "###.#...##",
            "#.###.##..",
            "",
            "Tile 2657:",
            ".#..##..##",
            "##.#....##",
            "#.#...#...",
            "#..#......",
            "#........#",
            "#.........",
            "..#....#..",
            "#.........",
            "#.........",
            "##.###.###",
            "",
            "Tile 2671:",
            "#.#.#.##.#",
            ".#..#..#.#",
            ".#.......#",
            "#...#..#..",
            ".....###.#",
            "#.....#..#",
            "#.#......#",
            "#........#",
            "#....#....",
            "####.#..#.",
            "",
            "Tile 3121:",
            "..#..#...#",
            "#....#...#",
            "....###.#.",
            "#........#",
            "..####....",
            ".......###",
            "#..#.####.",
            "##.#.###.#",
            ".####..#..",
            "#.#...#..#",
            "",
            "Tile 1021:",
            "#####.####",
            "#....#...#",
            "####....#.",
            "#......#..",
            "##..#...##",
            "##.#.#..##",
            "#.....#.#.",
            "#.#...##.#",
            ".#......##",
            ".#.##...#.",
            "",
            "Tile 1019:",
            "...#.##..#",
            "#........#",
            ".........#",
            "##....#...",
            "#..#..##.#",
            "........#.",
            ".....##...",
            "#..##....#",
            "#.....#.#.",
            ".##.####..",
            "",
            "Tile 2099:",
            "#.##..###.",
            "#..#......",
            "#.##...#.#",
            "...##..##.",
            "#...#.....",
            ".#.....#.#",
            ".....#..#.",
            ".....##...",
            "#...##..##",
            "##.#####.#",
            "",
            "Tile 1297:",
            ".###..####",
            "##...###.#",
            "..#..##..#",
            "#...#.....",
            "...#....##",
            "#....#...#",
            "###.##.#..",
            "#.........",
            "......#.##",
            "..#.##..#.",
            "",
            "Tile 1993:",
            "####..#.#.",
            ".#.#.#....",
            "#...#.##.#",
            "#.....#..#",
            "..#..#.#..",
            "#.#.#...#.",
            ".#..#...#.",
            "##...##..#",
            "..#...##.#",
            "#..#.##.#.",
            "",
            "Tile 2617:",
            "..#.#.#.##",
            ".##.####..",
            "#.#..####.",
            "....#.#..#",
            "#.#.#.#.##",
            "...#......",
            "##......##",
            ".#...#.#..",
            "#..#...#.#",
            ".###.#..#.",
            "",
            "Tile 1009:",
            "##.#....#.",
            "#.#.#...#.",
            "#.#....#..",
            "......#..#",
            "####......",
            "....#...##",
            "......#..#",
            ".......#..",
            "##.....#..",
            "..#...#.#.",
            "",
            "Tile 2203:",
            "#.#.###.##",
            "#.#...##.#",
            "....#.##.#",
            "#..#......",
            ".#....#..#",
            "......#...",
            "##.##....#",
            "#...#...#.",
            "##.##....#",
            "#..#..#.##",
            "",
            "Tile 3467:",
            "....##.##.",
            "#...#..#..",
            "##....#...",
            "#.......##",
            "#.........",
            "...#....##",
            "#...#.....",
            "##.#.#.#.#",
            "...##.#..#",
            "#...#.....",
            "",
            "Tile 3617:",
            "##..####.#",
            "#...#.#..#",
            ".......#.#",
            "..........",
            ".......#..",
            "...#...###",
            "#.#.......",
            "#.........",
            ".....##...",
            "##.#.###..",
            "",
            "Tile 1601:",
            ".#..####.#",
            ".....##...",
            "#.....##.#",
            "#...###..#",
            "##....#...",
            "##......#.",
            "#.#.....#.",
            "##.......#",
            "#.......##",
            "..##.#.#..",
            "",
            "Tile 2699:",
            ".#...#...#",
            "#.##...##.",
            "..........",
            "#.##..#.#.",
            "...#..#..#",
            "...#.##..#",
            "#.#..#..##",
            ".#...###..",
            ".#.......#",
            "##..###.##",
            "",
            "Tile 1231:",
            "#.....##..",
            "#..#.....#",
            "###..#.#.#",
            "..######..",
            "...##....#",
            "#..#...#.#",
            ".....#...#",
            "#.##..####",
            "..#.#.....",
            ".###.##..#",
            "",
            "Tile 3373:",
            "###...#...",
            ".##..#...#",
            ".#.#.....#",
            "........#.",
            "....#.....",
            "#....#....",
            "##.....#.#",
            "###.......",
            "#......#.#",
            "#.#..#####",
            "",
            "Tile 1901:",
            "##.##..##.",
            "##...#..##",
            "......#..#",
            ".#.#......",
            "#.###.#..#",
            "##.#.#.#..",
            "........##",
            "#....#..#.",
            ".....#...#",
            ".#..##....",
            "",
            "Tile 1213:",
            "...#.#.#.#",
            "#.##...#..",
            ".#.##.####",
            ".....####.",
            "##.##....#",
            "#..#...#..",
            "....#.....",
            "##........",
            "##..##....",
            "###...#...",
            "",
            "Tile 3163:",
            "#.....#.#.",
            "###.#..#..",
            "......#...",
            "#..#.#....",
            "##....#.#.",
            "##.#..##..",
            "#.##.#..##",
            ".#........",
            ".#...#....",
            ".....#.##.",
            "",
            "Tile 2053:",
            ".###.#...#",
            "#.....#...",
            "#..#.#..##",
            "##.......#",
            "#..#....##",
            "....###..#",
            "#.#..#...#",
            "#.##.#.#..",
            ".#..#..#.#",
            "#.......##",
            "",
            "Tile 3229:",
            "......#...",
            "#...#....#",
            "##....#..#",
            ".#..#.##.#",
            "..####.#.#",
            "###.......",
            "##....#...",
            "#..#...#.#",
            "........#.",
            ".#.###.###",
            "",
            "Tile 3271:",
            "#....#.###",
            "#.......#.",
            "#......#..",
            ".###..##.#",
            "....#..#..",
            ".....#..##",
            ".#...#....",
            "........##",
            ".......##.",
            "#..####.##",
            "",
            "Tile 2003:",
            "..#.#....#",
            ".##..#...#",
            "#.........",
            "#.........",
            "#.........",
            "#.##...#..",
            "#..#..##.#",
            ".......#..",
            "##.......#",
            "..#####..#",
            "",
            "Tile 3637:",
            "##.##.####",
            "....#.#..#",
            "##.#...#.#",
            "....###.##",
            "..........",
            ".##.###.#.",
            "#.###.....",
            "......#...",
            "..##.....#",
            "##.#######",
            "",
            "Tile 3967:",
            "#..#.####.",
            "###..#....",
            "#.........",
            "#..#..#..#",
            "#..#.....#",
            "..#...#...",
            "..###.#.#.",
            "#..#.....#",
            ".#......#.",
            "...##.#..#",
            "",
            "Tile 2621:",
            "...##.###.",
            "...#.....#",
            "#.#.##....",
            "#.#.......",
            "##.#.#.#..",
            "...#....##",
            ".......###",
            "..##....##",
            "#.#..#....",
            "#####...#.",
            "",
            "Tile 3347:",
            "####..##..",
            "#.#.##....",
            "...#.##...",
            "....##.#.#",
            "####...###",
            "..##..#..#",
            "......#..#",
            "#....#.#..",
            "#....##..#",
            ".#.#.#...#",
            "",
            "Tile 1319:",
            "#..###...#",
            "#..##.#..#",
            "#........#",
            "##...#.#.#",
            "#.##....#.",
            ".....#.#.#",
            "#...#....#",
            ".....#...#",
            "#.........",
            ".#.##.....",
            "",
            "Tile 1279:",
            "##.....###",
            "##...#....",
            "#....#..##",
            "#...##...#",
            "...#.###.#",
            ".#........",
            "#.....##.#",
            "...#.....#",
            "..###.....",
            "#.#.#..##.",
            "",
            "Tile 1861:",
            ".##...#.#.",
            "#....####.",
            "..........",
            "#.#...#..#",
            "###.####..",
            "#......#.#",
            ".......#.#",
            "#.#.#.#..#",
            "##.....#.#",
            "....##..##",
            "",
            "Tile 2861:",
            ".#.######.",
            "..#.#..##.",
            "#.##......",
            "....#.#...",
            "........##",
            "#....##...",
            "......#...",
            "#.#.......",
            "#.#....#..",
            "#######..#",
            "",
            "Tile 1879:",
            "#..#.....#",
            "#........#",
            "#..#####..",
            "#.#..#..#.",
            "#........#",
            ".#....##.#",
            ".##.....##",
            "...#.....#",
            ".##......#",
            "..###.##.#",
            "",
            "Tile 1291:",
            "......##..",
            ".#.....###",
            "...#.#....",
            "#....#.#.#",
            "###.......",
            "....#.....",
            ".#.#.#.#..",
            ".#.##....#",
            "#..#.#....",
            "##..##..#.",
            "",
            "Tile 1109:",
            "#....##.##",
            "#.##....##",
            "..#......#",
            ".........#",
            "..#.##.#..",
            "#........#",
            "##.#.....#",
            "##....#...",
            ".......###",
            "##...#.#.#",
            "",
            "Tile 2333:",
            "......#..#",
            "##..####..",
            "..#.......",
            "#.........",
            "#.#.##...#",
            "#.........",
            "#.......#.",
            "#.##.#..##",
            ".#..#..#..",
            "###..##..#",
            "",
            "Tile 2081:",
            "####...#.#",
            ".....#....",
            ".....##..#",
            ".#..#..#.#",
            "#.........",
            "..##.#...#",
            ".......###",
            ".#..#.....",
            "#......##.",
            "#.#.#.#.##",
            "",
            "Tile 1489:",
            "#..##.#..#",
            "..#.#.#.#.",
            "...#......",
            "#........#",
            "#.#.#.....",
            ".#.#.#.#.#",
            "#.##......",
            "#.#.##.#.#",
            "#.#......#",
            ".#..#..#.#",
            "",
            "Tile 3931:",
            "##.###.#.#",
            "#........#",
            "#.....#..#",
            ".###......",
            "......##.#",
            "#..#...###",
            "..#......#",
            "#..#......",
            "#....##...",
            "###.###.##",
            "",
            "Tile 1249:",
            ".###.###.#",
            "#.##...###",
            "...#.#....",
            "#...#..#..",
            "......#..#",
            "#......###",
            "##..#...#.",
            "..##.....#",
            "#..#.#....",
            "##....####",
            "",
            "Tile 2381:",
            "#...#....#",
            ".#...##..#",
            "##...##..#",
            "...#.#...#",
            "#..##.#...",
            ".##..#.##.",
            ".....####.",
            "#..#..##.#",
            "##...##...",
            ".##.######",
            "",
            "Tile 1747:",
            ".####..#.#",
            "#........#",
            "....#....#",
            "#.....####",
            "##..#.#..#",
            "###.##..##",
            ".##...#...",
            "..##......",
            "#....###..",
            ".#####..##",
            "",
            "Tile 2687:",
            "#.#.....#.",
            ".........#",
            "#..#...#.#",
            "..........",
            "#......##.",
            "..#...##..",
            "##.##...##",
            "##.#...##.",
            "......#..#",
            ".#.#....#.",
            "",
            "Tile 1327:",
            ".###.#####",
            ".......#.#",
            "#..#..#.#.",
            "#...#..#..",
            ".......#..",
            "..#.#.....",
            "#........#",
            ".##....#..",
            "..###.#..#",
            "#..#.##.##",
            "",
            "Tile 3727:",
            "#.#..#...#",
            "..#.#....#",
            ".##.###.#.",
            "#.........",
            "##.#...#.#",
            "##.#....##",
            ".##...#...",
            "......#..#",
            "........#.",
            "#....##.##",
            "",
            "Tile 2341:",
            ".##.#.####",
            "...#....#.",
            ".#.....#.#",
            ".....#....",
            "#.#.###.#.",
            "##.##.....",
            "#...#.....",
            "..#.#..#..",
            "........#.",
            "#.##......",
            "",
            "Tile 1439:",
            "#..#.#..##",
            ".......#..",
            "....#..##.",
            "..#..#.#..",
            ".....#...#",
            ".#..#.##..",
            "#...#..#.#",
            "#.#......#",
            ".#..#.....",
            "##.#...#.#",
            "",
            "Tile 2351:",
            "..###...##",
            "#....###..",
            ".#....#..#",
            ".#...#....",
            ".#.......#",
            "..#....##.",
            "#..#.....#",
            "#.......#.",
            "##..#..#.#",
            "...#..##..",
            "",
            "Tile 2269:",
            ".#####...#",
            "#........#",
            "#.......##",
            "#.#....#..",
            "..##.....#",
            ".#..#..#.#",
            "##...##...",
            "#......###",
            "...#......",
            "#.#.###.#.",
            "",
            "Tile 2887:",
            ".#.##.#.##",
            ".#....#...",
            "#.....#..#",
            "#.##...#.#",
            "#...#.#.##",
            "##.##.#...",
            "##.#.##..#",
            ".#.##..#..",
            "......#..#",
            ".#.#.##...",
            "",
            "Tile 3391:",
            ".####....#",
            ".#..#..###",
            "....#...#.",
            "...#..#.##",
            "#....#..##",
            "#...#..##.",
            "#..####.#.",
            "..####..##",
            "..##.....#",
            "...#.#..##",
            "",
            "Tile 3533:",
            ".#....#..#",
            "#.........",
            "..#..#..##",
            ".#.##.#..#",
            "#...#.....",
            "......##..",
            "...#.#.#.#",
            "#.....##..",
            "..........",
            "##.##..#..",
            "",
            "Tile 1637:",
            ".#.#.#.##.",
            "#.#.....##",
            ".#....#...",
            "##.......#",
            ".##.###.##",
            "##.#......",
            "..#.....#.",
            ".###...#.#",
            "........#.",
            "#.##...#.#",
            "",
            "Tile 3323:",
            "..#.#.#.#.",
            "#.#.....#.",
            "#.##..#.##",
            "##.......#",
            "#.#....#.#",
            ".##......#",
            ".#..#..#..",
            "..#..##..#",
            "...##.....",
            "##.##.##.#",
            "",
            "Tile 1559:",
            "##.##.#..#",
            ".....#.#..",
            "#.#.####..",
            "...#.#...#",
            "##....#..#",
            "#.##...#..",
            ".#..##.###",
            "....#..#..",
            ".#.#.#.#.#",
            "#....#..#.",
            "",
            "Tile 2039:",
            "..#.######",
            ".#...#...#",
            "###.#.....",
            "##..###..#",
            ".#...##...",
            "..#..#...#",
            "#.....#.#.",
            "....#.....",
            ".###.....#",
            "..##.#.###",
            "",
            "Tile 3677:",
            "####......",
            ".......#..",
            "#.........",
            "........#.",
            ".....###.#",
            "#...#.###.",
            "##........",
            "....##..##",
            ".#....#...",
            ".##..##.#.",
            "",
            "Tile 1973:",
            "#.###..##.",
            "#.........",
            "#......###",
            "#.#...####",
            "#.#..#.#.#",
            "..#..#..#.",
            "#..#.#.#.#",
            "##.##..#..",
            "#.###...##",
            "##.#.##.#.",
            "",
            "Tile 2309:",
            "####..##.#",
            "#..#..#..#",
            "...#.#...#",
            "#....###.#",
            "##....#.#.",
            "....##....",
            "......#...",
            "##..#.....",
            "#....#..#.",
            ".##.#....#",
            "",
            "Tile 2237:",
            ".##......#",
            "#.#....##.",
            "...###..#.",
            "#.#....###",
            ".....#...#",
            "#.##.....#",
            "#..#...#..",
            ".#...#..##",
            "#.#....##.",
            "....#.#.#.",
            "",
            "Tile 2663:",
            "##..##.###",
            "#..#..##..",
            "#...##...#",
            "#.#.#..#.#",
            "#..#......",
            "....#..#.#",
            "...#...###",
            "##........",
            "##....#.#.",
            ".#...##.#.",
            "",
            "Tile 1571:",
            "##.#.#...#",
            ".##.##.###",
            "........##",
            "#.........",
            "#.#...##..",
            "#.......#.",
            "##..#####.",
            "#..#...##.",
            "##......#.",
            "..#..##..#",
            "",
            "Tile 3011:",
            "#.#.#...##",
            "....##.#.#",
            "#...##...#",
            "#........#",
            ".#....#...",
            "......#...",
            "#.#.#..#..",
            "..#####...",
            "#.###.....",
            ".......#.#",
            "",
            "Tile 3457:",
            "##.##..#.#",
            "###.##....",
            ".#.#...#..",
            "##.......#",
            ".....#.##.",
            "#.#.##.#.#",
            ".###.#####",
            "..#.......",
            ".##.....##",
            "....#.###.",
            "",
            "Tile 1619:",
            "#..#...#..",
            "#.....#.#.",
            "#..#..##..",
            ".....#....",
            "#.#...#...",
            ".#..#....#",
            "#....##.##",
            ".....##.#.",
            "......####",
            "#.#.#.##..",
            "",
            "Tile 1663:",
            "..#..###.#",
            "#...#.#..#",
            "#...#.....",
            "###..##...",
            "..#.#.....",
            "..........",
            "#.#....##.",
            "..#....###",
            "#..#..#.#.",
            "###.#.##.."
        };
    }
}